import{g as m,_ as g,a as v,b as x}from"./entry.cccafffc.js";import{U as b,b as y,a3 as N,X as k,z as p,f as L,a4 as I,_ as B,c as E,k as f,a as T,F as M,o as z}from"./chunk-pg-brands.8ca8676c.js";import"./chunk-pg-misc.dcceac43.js";import"./chunk-pg-user.976fd428.js";const F=b({name:"NuxtLoadingIndicator",props:{throttle:{type:Number,default:200},duration:{type:Number,default:2e3},height:{type:Number,default:3},color:{type:[String,Boolean],default:"repeating-linear-gradient(to right,#00dc82 0%,#34cdfe 50%,#0047e1 100%)"}},setup(e,{slots:n}){const t=$({duration:e.duration,throttle:e.throttle}),s=I(),o=y();m.unshift(t.start),o.onError(()=>{t.finish()}),o.beforeResolve((a,i)=>{(a===i||a.matched.every((u,_)=>{var c,l,h;return u.components&&((c=u.components)==null?void 0:c.default)===((h=(l=i.matched[_])==null?void 0:l.components)==null?void 0:h.default)}))&&t.finish()}),o.afterEach((a,i,u)=>{u&&t.finish()});const r=s.hook("page:finish",t.finish),d=s.hook("vue:error",t.finish);return N(()=>{const a=m.indexOf(t.start);a>=0&&m.splice(a,1),r(),d(),t.clear()}),()=>k("div",{class:"nuxt-loading-indicator",style:{position:"fixed",top:0,right:0,left:0,pointerEvents:"none",width:"auto",height:`${e.height}px`,opacity:t.isLoading.value?1:0,background:e.color||void 0,backgroundSize:`${100/t.progress.value*100}% auto`,transform:`scaleX(${t.progress.value}%)`,transformOrigin:"left",transition:"transform 0.1s, height 0.4s, opacity 0.4s",zIndex:999999}},n)}});function $(e){const n=p(0),t=p(!1),s=L(()=>1e4/e.duration);let o=null,r=null;function d(){i(),n.value=0,e.throttle?r=setTimeout(()=>{t.value=!0,c()},e.throttle):(t.value=!0,c())}function a(){n.value=100,_()}function i(){clearInterval(o),clearTimeout(r),o=null,r=null}function u(l){n.value=Math.min(100,n.value+l)}function _(){i(),setTimeout(()=>{t.value=!1,setTimeout(()=>{n.value=0},400)},500)}function c(){o=setInterval(()=>{u(s.value)},100)}return{progress:n,isLoading:t,start:d,finish:a,clear:i}}const w={},A={class:"site-main"};function O(e,n){const t=g,s=F,o=v,r=x;return z(),E(M,null,[f(t),T("main",A,[f(s),f(o)]),f(r)],64)}const V=B(w,[["render",O]]);export{V as default};
